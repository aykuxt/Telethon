
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://aykuxt.github.io/Telethon/modules/sessions/" rel="canonical"/>
<link href="../../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.2.3" name="generator"/>
<title>Sessions - Telethon Docs</title>
<link href="../../assets/stylesheets/main.6e35a1a6.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.a46bcfb3.min.css" rel="stylesheet"/>
<meta content="#3f51b5" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../../assets/css/custom.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="amber" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#sessions-telethonsessions">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Telethon Docs" class="md-header-nav__button md-logo" href="https://aykuxt.github.io/Telethon/" title="Telethon Docs">
<img alt="logo" src="../../assets/images/nav-logo.svg"/>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Telethon Docs
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Sessions
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/LonamiWebs/Telethon/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    LonamiWebs/Telethon
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs md-tabs--active" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
          First Steps
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../quick-references/faq/">
          Quick References
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../concepts/strings/">
          Concepts
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../developing/philosophy/">
          Developing
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../examples/word-of-warning/">
          Full API Examples
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../misc/changelog/">
          Miscellaneous
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../client/">
          Modules
        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Telethon Docs" class="md-nav__button md-logo" href="https://aykuxt.github.io/Telethon/" title="Telethon Docs">
<img alt="logo" src="../../assets/images/nav-logo.svg"/>
</a>
    Telethon Docs
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/LonamiWebs/Telethon/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    LonamiWebs/Telethon
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" id="nav-1" type="checkbox"/>
<label class="md-nav__link" for="nav-1">
      First Steps
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="First Steps" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-1">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        First Steps
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Getting Started">
      Getting Started
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basic/installation/" title="Installation">
      Installation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basic/signing-in/" title="Signing In">
      Signing In
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basic/quick-start/" title="Quick-Start">
      Quick-Start
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basic/updates/" title="Updates">
      Updates
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../basic/next-steps/" title="Next Steps">
      Next Steps
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      Quick References
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Quick References" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Quick References
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../quick-references/faq/" title="FAQ">
      FAQ
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../quick-references/events-reference/" title="Events Reference">
      Events Reference
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Concepts
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Concepts" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Concepts
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../concepts/strings/" title="String-based Debugging">
      String-based Debugging
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../concepts/entities/" title="Entities">
      Entities
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../concepts/updates/" title="Updates in Depth">
      Updates in Depth
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../concepts/sessions/" title="Session Files">
      Session Files
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../concepts/full-api/" title="The Full API">
      The Full API
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../concepts/errors/" title="RPC Errors">
      RPC Errors
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../concepts/botapi-vs-mtproto/" title="HTTP Bot API vs MTProto">
      HTTP Bot API vs MTProto
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../concepts/asyncio/" title="Mastering asyncio">
      Mastering asyncio
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      Developing
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Developing" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Developing
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/philosophy/" title="Philosophy">
      Philosophy
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/test-servers/" title="Test Servers">
      Test Servers
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/project-structure/" title="Project Structure">
      Project Structure
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/coding-style/" title="Coding Style">
      Coding Style
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/testing/" title="Tests">
      Tests
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/understanding-the-type-language/" title="Understanding the Type Language">
      Understanding the Type Language
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/tips-for-porting-the-project/" title="Tips for Porting the Project">
      Tips for Porting the Project
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/telegram-api-in-other-languages/" title="Telegram API in Other Languages">
      Telegram API in Other Languages
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      Full API Examples
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Full API Examples" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-5">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Full API Examples
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/word-of-warning/" title="A Word of Warning">
      A Word of Warning
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/chats-and-channels/" title="Working with Chats and Channels">
      Working with Chats and Channels
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/users/" title="Users">
      Users
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/working-with-messages/" title="Working with messages">
      Working with messages
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/projects-using-telethon/" title="Projects using Telethon">
      Projects using Telethon
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" id="nav-6" type="checkbox"/>
<label class="md-nav__link" for="nav-6">
      Miscellaneous
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Miscellaneous" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-6">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Miscellaneous
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../misc/changelog/" title="Changelog (Version History)">
      Changelog (Version History)
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../misc/wall-of-shame/" title="Wall of Shame">
      Wall of Shame
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../misc/compatibility-and-convenience/" title="Compatibility and Convenience">
      Compatibility and Convenience
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-7" id="nav-7" type="checkbox"/>
<label class="md-nav__link" for="nav-7">
      Modules
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Modules" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-7">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Modules
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../client/" title="TelegramClient">
      TelegramClient
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../events/" title="Update Events">
      Update Events
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../custom/" title="Custom package">
      Custom package
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../utils/" title="Utilities">
      Utilities
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../errors/" title="API Errors">
      API Errors
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Sessions
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="Sessions">
      Sessions
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session">
    Session
  </a>
<nav aria-label="Session" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.auth_key">
    auth_key
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.dc_id">
    dc_id
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.port">
    port
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.server_address">
    server_address
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.takeout_id">
    takeout_id
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.cache_file">
    cache_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.clone">
    clone()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.close">
    close()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.delete">
    delete()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.get_file">
    get_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.get_input_entity">
    get_input_entity()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.get_update_state">
    get_update_state()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.list_sessions">
    list_sessions()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.process_entities">
    process_entities()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.save">
    save()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.set_dc">
    set_dc()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.set_update_state">
    set_update_state()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession">
    MemorySession
  </a>
<nav aria-label="MemorySession" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.cache_file">
    cache_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.close">
    close()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.delete">
    delete()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.get_file">
    get_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.get_input_entity">
    get_input_entity()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.get_update_state">
    get_update_state()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.process_entities">
    process_entities()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.save">
    save()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.set_dc">
    set_dc()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.set_update_state">
    set_update_state()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession">
    SQLiteSession
  </a>
<nav aria-label="SQLiteSession" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.cache_file">
    cache_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.clone">
    clone()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.close">
    close()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.delete">
    delete()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.get_file">
    get_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.get_update_state">
    get_update_state()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.list_sessions">
    list_sessions()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.process_entities">
    process_entities()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.save">
    save()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.set_dc">
    set_dc()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.set_update_state">
    set_update_state()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.string.StringSession">
    StringSession
  </a>
<nav aria-label="StringSession" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.string.StringSession.save">
    save()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../network/" title="Connection Modes">
      Connection Modes
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../helpers/" title="Helpers">
      Helpers
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session">
    Session
  </a>
<nav aria-label="Session" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.auth_key">
    auth_key
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.dc_id">
    dc_id
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.port">
    port
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.server_address">
    server_address
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.takeout_id">
    takeout_id
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.cache_file">
    cache_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.clone">
    clone()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.close">
    close()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.delete">
    delete()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.get_file">
    get_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.get_input_entity">
    get_input_entity()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.get_update_state">
    get_update_state()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.list_sessions">
    list_sessions()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.process_entities">
    process_entities()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.save">
    save()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.set_dc">
    set_dc()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.abstract.Session.set_update_state">
    set_update_state()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession">
    MemorySession
  </a>
<nav aria-label="MemorySession" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.cache_file">
    cache_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.close">
    close()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.delete">
    delete()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.get_file">
    get_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.get_input_entity">
    get_input_entity()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.get_update_state">
    get_update_state()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.process_entities">
    process_entities()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.save">
    save()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.set_dc">
    set_dc()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.memory.MemorySession.set_update_state">
    set_update_state()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession">
    SQLiteSession
  </a>
<nav aria-label="SQLiteSession" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.cache_file">
    cache_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.clone">
    clone()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.close">
    close()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.delete">
    delete()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.get_file">
    get_file()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.get_update_state">
    get_update_state()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.list_sessions">
    list_sessions()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.process_entities">
    process_entities()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.save">
    save()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.set_dc">
    set_dc()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.sqlite.SQLiteSession.set_update_state">
    set_update_state()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.string.StringSession">
    StringSession
  </a>
<nav aria-label="StringSession" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telethon.sessions.string.StringSession.save">
    save()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/LonamiWebs/Telethon/edit/master/docs/modules/sessions.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<a class="md-content__button md-icon" href="https://github.com/LonamiWebs/Telethon/tree/master/telethon/sessions/" title="telethon/sessions/">
  Source
  
  <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</a>
<h1 id="sessions-telethonsessions">Sessions <small><code>telethon.sessions</code></small><a class="headerlink" href="#sessions-telethonsessions" title="Permanent link">¶</a></h1>
<p>These are the different built-in session storage that you may subclass.</p>
<div class="doc doc-object doc-module">
<div class="doc doc-contents first">
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="telethon.sessions.abstract.Session">
<code>Session</code>
<a class="headerlink" href="#telethon.sessions.abstract.Session" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.auth_key">
<code class="highlight">
auth_key        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-writable"><code>writable</code></small>
</span>
<a class="headerlink" href="#telethon.sessions.abstract.Session.auth_key" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns an <code>AuthKey</code> instance associated with the saved
data center, or <code>None</code> if a new one should be generated.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.dc_id">
<code class="highlight">
dc_id        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#telethon.sessions.abstract.Session.dc_id" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns the currently-used data center ID.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.port">
<code class="highlight">
port        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#telethon.sessions.abstract.Session.port" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns the port to which the library should connect to.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.server_address">
<code class="highlight">
server_address        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#telethon.sessions.abstract.Session.server_address" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns the server address where the library should connect to.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.takeout_id">
<code class="highlight">
takeout_id        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-writable"><code>writable</code></small>
</span>
<a class="headerlink" href="#telethon.sessions.abstract.Session.takeout_id" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns an ID of the takeout process initialized for this session,
or <code>None</code> if there's no were any unfinished takeout requests.</p>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.cache_file">
<code class="highlight language-python">
cache_file<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">instance</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.cache_file" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Caches the given file information persistently, so that it
doesn't need to be re-uploaded in case the file is used again.</p>
<p>The <code>instance</code> will be either an <code>InputPhoto</code> or <code>InputDocument</code>,
both with an <code>.id</code> and <code>.access_hash</code> attributes.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>148
149
150
151
152
153
154
155
156
157</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">cache_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Caches the given file information persistently, so that it</span>
<span class="sd">    doesn't need to be re-uploaded in case the file is used again.</span>

<span class="sd">    The ``instance`` will be either an ``InputPhoto`` or ``InputDocument``,</span>
<span class="sd">    both with an ``.id`` and ``.access_hash`` attributes.</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.clone">
<code class="highlight language-python">
clone<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to_instance</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.clone" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Creates a clone of this session file.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span> 8
 9
10
11
12</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to_instance</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Creates a clone of this session file.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">to_instance</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">()</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.close">
<code class="highlight language-python">
close<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.close" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Called on client disconnection. Should be used to
free any used resources. Can be left empty if none.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>100
101
102
103
104
105</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Called on client disconnection. Should be used to</span>
<span class="sd">    free any used resources. Can be left empty if none.</span>
<span class="sd">    """</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.delete">
<code class="highlight language-python">
delete<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.delete" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Called upon client.log_out(). Should delete the stored
information from disk since it's not valid anymore.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>115
116
117
118
119
120
121</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Called upon client.log_out(). Should delete the stored</span>
<span class="sd">    information from disk since it's not valid anymore.</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.get_file">
<code class="highlight language-python">
get_file<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.get_file" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns an instance of <code>cls</code> if the <code>md5_digest</code> and <code>file_size</code>
match an existing saved record. The class will either be an
<code>InputPhoto</code> or <code>InputDocument</code>, both with two parameters
<code>id</code> and <code>access_hash</code> in that order.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>159
160
161
162
163
164
165
166
167</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Returns an instance of ``cls`` if the ``md5_digest`` and ``file_size``</span>
<span class="sd">    match an existing saved record. The class will either be an</span>
<span class="sd">    ``InputPhoto`` or ``InputDocument``, both with two parameters</span>
<span class="sd">    ``id`` and ``access_hash`` in that order.</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.get_input_entity">
<code class="highlight language-python">
get_input_entity<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.get_input_entity" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Turns the given key into an <code>InputPeer</code> (e.g. <code>InputPeerUser</code>).
The library uses this method whenever an <code>InputPeer</code> is needed
to suit several purposes (e.g. user only provided its ID or wishes
to use a cached username to avoid extra RPC).</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>138
139
140
141
142
143
144
145
146</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_input_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Turns the given key into an ``InputPeer`` (e.g. ``InputPeerUser``).</span>
<span class="sd">    The library uses this method whenever an ``InputPeer`` is needed</span>
<span class="sd">    to suit several purposes (e.g. user only provided its ID or wishes</span>
<span class="sd">    to use a cached username to avoid extra RPC).</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.get_update_state">
<code class="highlight language-python">
get_update_state<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.get_update_state" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns the <code>UpdateState</code> associated with the given <code>entity_id</code>.
If the <code>entity_id</code> is 0, it should return the <code>UpdateState</code> for
no specific channel (the "general" state). If no state is known
it should <code>return None</code>.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>81
82
83
84
85
86
87
88
89</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_update_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Returns the ``UpdateState`` associated with the given `entity_id`.</span>
<span class="sd">    If the `entity_id` is 0, it should return the ``UpdateState`` for</span>
<span class="sd">    no specific channel (the "general" state). If no state is known</span>
<span class="sd">    it should ``return None``.</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.list_sessions">
<code class="highlight language-python">
list_sessions<span class="p">()</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
<a class="headerlink" href="#telethon.sessions.abstract.Session.list_sessions" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Lists available sessions. Not used by the library itself.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>123
124
125
126
127
128</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">list_sessions</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Lists available sessions. Not used by the library itself.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="p">[]</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.process_entities">
<code class="highlight language-python">
process_entities<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tlo</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.process_entities" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Processes the input <code>TLObject</code> or <code>list</code> and saves
whatever information is relevant (e.g., ID or access hash).</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>130
131
132
133
134
135
136</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">process_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tlo</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Processes the input ``TLObject`` or ``list`` and saves</span>
<span class="sd">    whatever information is relevant (e.g., ID or access hash).</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.save">
<code class="highlight language-python">
save<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.save" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Called whenever important properties change. It should
make persist the relevant session information to disk.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>107
108
109
110
111
112
113</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Called whenever important properties change. It should</span>
<span class="sd">    make persist the relevant session information to disk.</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.set_dc">
<code class="highlight language-python">
set_dc<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">,</span> <span class="n">server_address</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.set_dc" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Sets the information of the data center address and port that
the library should connect to, as well as the data center ID,
which is currently unused.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>14
15
16
17
18
19
20
21</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">set_dc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">,</span> <span class="n">server_address</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Sets the information of the data center address and port that</span>
<span class="sd">    the library should connect to, as well as the data center ID,</span>
<span class="sd">    which is currently unused.</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.abstract.Session.set_update_state">
<code class="highlight language-python">
set_update_state<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.abstract.Session.set_update_state" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Sets the given <code>UpdateState</code> for the specified <code>entity_id</code>, which
should be 0 if the <code>UpdateState</code> is the "general" state (and not
for any specific channel).</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\abstract.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>91
92
93
94
95
96
97
98</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">set_update_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Sets the given ``UpdateState`` for the specified `entity_id`, which</span>
<span class="sd">    should be 0 if the ``UpdateState`` is the "general" state (and not</span>
<span class="sd">    for any specific channel).</span>
<span class="sd">    """</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-module">
<div class="doc doc-contents first">
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="telethon.sessions.memory.MemorySession">
<code>MemorySession</code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.cache_file">
<code class="highlight language-python">
cache_file<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">instance</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.cache_file" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Caches the given file information persistently, so that it
doesn't need to be re-uploaded in case the file is used again.</p>
<p>The <code>instance</code> will be either an <code>InputPhoto</code> or <code>InputDocument</code>,
both with an <code>.id</code> and <code>.access_hash</code> attributes.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>234
235
236
237
238
239</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">cache_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="p">(</span><span class="n">InputDocument</span><span class="p">,</span> <span class="n">InputPhoto</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">'Cannot cache </span><span class="si">%s</span><span class="s1"> instance'</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="n">instance</span><span class="p">))</span>
    <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">_SentFileType</span><span class="o">.</span><span class="n">from_type</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">instance</span><span class="p">)))</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">access_hash</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_files</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.close">
<code class="highlight language-python">
close<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.close" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Called on client disconnection. Should be used to
free any used resources. Can be left empty if none.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>80
81</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.delete">
<code class="highlight language-python">
delete<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.delete" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Called upon client.log_out(). Should delete the stored
information from disk since it's not valid anymore.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>86
87</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.get_file">
<code class="highlight language-python">
get_file<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.get_file" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns an instance of <code>cls</code> if the <code>md5_digest</code> and <code>file_size</code>
match an existing saved record. The class will either be an
<code>InputPhoto</code> or <code>InputDocument</code>, both with two parameters
<code>id</code> and <code>access_hash</code> in that order.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>241
242
243
244
245
246</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
    <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">_SentFileType</span><span class="o">.</span><span class="n">from_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_files</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.get_input_entity">
<code class="highlight language-python">
get_input_entity<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.get_input_entity" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Turns the given key into an <code>InputPeer</code> (e.g. <code>InputPeerUser</code>).
The library uses this method whenever an <code>InputPeer</code> is needed
to suit several purposes (e.g. user only provided its ID or wishes
to use a cached username to avoid extra RPC).</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_input_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">SUBCLASS_OF_ID</span> <span class="ow">in</span> <span class="p">(</span><span class="mh">0xc91c90b6</span><span class="p">,</span> <span class="mh">0xe669bf46</span><span class="p">,</span> <span class="mh">0x40f202fd</span><span class="p">):</span>
            <span class="c1"># hex(crc32(b'InputPeer', b'InputUser' and b'InputChannel'))</span>
            <span class="c1"># We already have an Input version, so nothing else required</span>
            <span class="k">return</span> <span class="n">key</span>
        <span class="c1"># Try to early return if this key can be casted as input peer</span>
        <span class="k">return</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_input_peer</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
        <span class="c1"># Not a TLObject or can't be cast into InputPeer</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">TLObject</span><span class="p">):</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_peer_id</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="n">exact</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">exact</span> <span class="o">=</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">&lt;</span> <span class="mi">0</span>

    <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">phone</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">parse_phone</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">phone</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_rows_by_phone</span><span class="p">(</span><span class="n">phone</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">username</span><span class="p">,</span> <span class="n">invite</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">parse_username</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">username</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">invite</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_rows_by_username</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">tup</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">resolve_invite_link</span><span class="p">(</span><span class="n">key</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">tup</span><span class="p">:</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_rows_by_id</span><span class="p">(</span><span class="n">tup</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_rows_by_id</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">exact</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_rows_by_name</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">entity_id</span><span class="p">,</span> <span class="n">entity_hash</span> <span class="o">=</span> <span class="n">result</span>  <span class="c1"># unpack resulting tuple</span>
        <span class="n">entity_id</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">resolve_id</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
        <span class="c1"># removes the mark and returns type of entity</span>
        <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">PeerUser</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InputPeerUser</span><span class="p">(</span><span class="n">entity_id</span><span class="p">,</span> <span class="n">entity_hash</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">PeerChat</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InputPeerChat</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="n">PeerChannel</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InputPeerChannel</span><span class="p">(</span><span class="n">entity_id</span><span class="p">,</span> <span class="n">entity_hash</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Could not find input entity with key '</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.get_update_state">
<code class="highlight language-python">
get_update_state<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.get_update_state" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns the <code>UpdateState</code> associated with the given <code>entity_id</code>.
If the <code>entity_id</code> is 0, it should return the <code>UpdateState</code> for
no specific channel (the "general" state). If no state is known
it should <code>return None</code>.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>74
75</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_update_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_states</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">entity_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.process_entities">
<code class="highlight language-python">
process_entities<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tlo</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.process_entities" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Processes the input <code>TLObject</code> or <code>list</code> and saves
whatever information is relevant (e.g., ID or access hash).</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>145
146</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">process_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tlo</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_entities</span> <span class="o">|=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_entities_to_rows</span><span class="p">(</span><span class="n">tlo</span><span class="p">))</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.save">
<code class="highlight language-python">
save<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.save" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Called whenever important properties change. It should
make persist the relevant session information to disk.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>83
84</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.set_dc">
<code class="highlight language-python">
set_dc<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">,</span> <span class="n">server_address</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.set_dc" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Sets the information of the data center address and port that
the library should connect to, as well as the data center ID,
which is currently unused.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>41
42
43
44</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">set_dc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">,</span> <span class="n">server_address</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dc_id</span> <span class="o">=</span> <span class="n">dc_id</span> <span class="ow">or</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_server_address</span> <span class="o">=</span> <span class="n">server_address</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_port</span> <span class="o">=</span> <span class="n">port</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.memory.MemorySession.set_update_state">
<code class="highlight language-python">
set_update_state<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.memory.MemorySession.set_update_state" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Sets the given <code>UpdateState</code> for the specified <code>entity_id</code>, which
should be 0 if the <code>UpdateState</code> is the "general" state (and not
for any specific channel).</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\memory.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>77
78</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">set_update_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_update_states</span><span class="p">[</span><span class="n">entity_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">state</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-module">
<div class="doc doc-contents first">
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession">
<code>SQLiteSession</code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>This session contains the required information to login into your
       Telegram account. NEVER give the saved session file to anyone, since
       they would gain instant access to all your messages and contacts.</p>
<div class="codehilite">
<pre><span></span><code><span class="err">   If you think the session has been compromised, close all the sessions</span>
<span class="err">   through an official Telegram client to revoke the authorization.</span>
</code></pre>
</div>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.cache_file">
<code class="highlight language-python">
cache_file<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">instance</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.cache_file" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Caches the given file information persistently, so that it
doesn't need to be re-uploaded in case the file is used again.</p>
<p>The <code>instance</code> will be either an <code>InputPhoto</code> or <code>InputDocument</code>,
both with an <code>.id</code> and <code>.access_hash</code> attributes.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>322
323
324
325
326
327
328
329
330
331</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">cache_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="p">(</span><span class="n">InputDocument</span><span class="p">,</span> <span class="n">InputPhoto</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">'Cannot cache </span><span class="si">%s</span><span class="s1"> instance'</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="n">instance</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span>
        <span class="s1">'insert or replace into sent_files values (?,?,?,?,?)'</span><span class="p">,</span>
        <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span>
        <span class="n">_SentFileType</span><span class="o">.</span><span class="n">from_type</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">instance</span><span class="p">))</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">instance</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">access_hash</span>
    <span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.clone">
<code class="highlight language-python">
clone<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to_instance</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.clone" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Creates a clone of this session file.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>112
113
114
115</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to_instance</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">cloned</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">to_instance</span><span class="p">)</span>
    <span class="n">cloned</span><span class="o">.</span><span class="n">save_entities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_entities</span>
    <span class="k">return</span> <span class="n">cloned</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.close">
<code class="highlight language-python">
close<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.close" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Closes the connection unless we're working in-memory</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>238
239
240
241
242
243
244</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Closes the connection unless we're working in-memory"""</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">!=</span> <span class="s1">':memory:'</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.delete">
<code class="highlight language-python">
delete<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.delete" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Deletes the current session file</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>246
247
248
249
250
251
252
253
254</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Deletes the current session file"""</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">==</span> <span class="s1">':memory:'</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.get_file">
<code class="highlight language-python">
get_file<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.get_file" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns an instance of <code>cls</code> if the <code>md5_digest</code> and <code>file_size</code>
match an existing saved record. The class will either be an
<code>InputPhoto</code> or <code>InputDocument</code>, both with two parameters
<code>id</code> and <code>access_hash</code> in that order.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>312
313
314
315
316
317
318
319
320</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
    <span class="n">row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span>
        <span class="s1">'select id, hash from sent_files '</span>
        <span class="s1">'where md5_digest = ? and file_size = ? and type = ?'</span><span class="p">,</span>
        <span class="n">md5_digest</span><span class="p">,</span> <span class="n">file_size</span><span class="p">,</span> <span class="n">_SentFileType</span><span class="o">.</span><span class="n">from_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">row</span><span class="p">:</span>
        <span class="c1"># Both allowed classes have (id, access_hash) as parameters</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.get_update_state">
<code class="highlight language-python">
get_update_state<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.get_update_state" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Returns the <code>UpdateState</code> associated with the given <code>entity_id</code>.
If the <code>entity_id</code> is 0, it should return the <code>UpdateState</code> for
no specific channel (the "general" state). If no state is known
it should <code>return None</code>.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>199
200
201
202
203
204
205
206</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_update_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">):</span>
    <span class="n">row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span><span class="s1">'select pts, qts, date, seq from update_state '</span>
                        <span class="s1">'where id = ?'</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">row</span><span class="p">:</span>
        <span class="n">pts</span><span class="p">,</span> <span class="n">qts</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">seq</span> <span class="o">=</span> <span class="n">row</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span>
            <span class="n">date</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">types</span><span class="o">.</span><span class="n">updates</span><span class="o">.</span><span class="n">State</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">qts</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">seq</span><span class="p">,</span> <span class="n">unread_count</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.list_sessions">
<code class="highlight language-python">
list_sessions<span class="p">()</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.list_sessions" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Lists all the sessions of the users who have ever connected
using this client and never logged out</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>256
257
258
259
260
261
262</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">list_sessions</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="sd">"""Lists all the sessions of the users who have ever connected</span>
<span class="sd">       using this client and never logged out</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">f</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">EXTENSION</span><span class="p">)]</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.process_entities">
<code class="highlight language-python">
process_entities<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tlo</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.process_entities" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Processes all the found entities on the given TLObject,
unless .enabled is False.</p>
<p>Returns True if new input entities were added.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">process_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tlo</span><span class="p">):</span>
    <span class="sd">"""Processes all the found entities on the given TLObject,</span>
<span class="sd">       unless .enabled is False.</span>

<span class="sd">       Returns True if new input entities were added.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_entities</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_entities_to_rows</span><span class="p">(</span><span class="n">tlo</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">rows</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cursor</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">c</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span>
            <span class="s1">'insert or replace into entities values (?,?,?,?,?)'</span><span class="p">,</span> <span class="n">rows</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">c</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.save">
<code class="highlight language-python">
save<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.save" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Saves the current session object as session_user_id.session</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>213
214
215
216
217
218</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Saves the current session object as session_user_id.session"""</span>
    <span class="c1"># This is a no-op if there are no changes to commit, so there's</span>
    <span class="c1"># no need for us to keep track of an "unsaved changes" variable.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.set_dc">
<code class="highlight language-python">
set_dc<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">,</span> <span class="n">server_address</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.set_dc" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Sets the information of the data center address and port that
the library should connect to, as well as the data center ID,
which is currently unused.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>161
162
163
164
165
166
167
168
169
170</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">set_dc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">,</span> <span class="n">server_address</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_dc</span><span class="p">(</span><span class="n">dc_id</span><span class="p">,</span> <span class="n">server_address</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_update_session_table</span><span class="p">()</span>

    <span class="c1"># Fetch the auth_key corresponding to this data center</span>
    <span class="n">row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span><span class="s1">'select auth_key from sessions'</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">row</span> <span class="ow">and</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auth_key</span> <span class="o">=</span> <span class="n">AuthKey</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auth_key</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.sqlite.SQLiteSession.set_update_state">
<code class="highlight language-python">
set_update_state<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.sqlite.SQLiteSession.set_update_state" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Sets the given <code>UpdateState</code> for the specified <code>entity_id</code>, which
should be 0 if the <code>UpdateState</code> is the "general" state (and not
for any specific channel).</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\sqlite.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>208
209
210
211</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">set_update_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span><span class="s1">'insert or replace into update_state values (?,?,?,?,?)'</span><span class="p">,</span>
                  <span class="n">entity_id</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">pts</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">qts</span><span class="p">,</span>
                  <span class="n">state</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(),</span> <span class="n">state</span><span class="o">.</span><span class="n">seq</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-module">
<div class="doc doc-contents first">
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="telethon.sessions.string.StringSession">
<code>StringSession</code>
<a class="headerlink" href="#telethon.sessions.string.StringSession" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>This session file can be easily saved and loaded as a string. According
to the initial design, it contains only the data that is necessary for
successful connection and authentication, so takeout ID is not stored.</p>
<p>It is thought to be used where you don't want to create any on-disk
files but would still like to be able to save and load existing sessions
by other means.</p>
<p>You can use custom <code>encode</code> and <code>decode</code> functions, if present:</p>
<ul>
<li><code>encode</code> definition must be <code>def encode(value: bytes) -&gt; str:</code>.</li>
<li><code>decode</code> definition must be <code>def decode(value: str) -&gt; bytes:</code>.</li>
</ul>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="telethon.sessions.string.StringSession.save">
<code class="highlight language-python">
save<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#telethon.sessions.string.StringSession.save" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Called whenever important properties change. It should
make persist the relevant session information to disk.</p>
<details class="quote">
<summary>Source code in <code>telethon\sessions\string.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>52
53
54
55
56
57
58
59
60
61
62
63</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">Session</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth_key</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">''</span>

    <span class="n">ip</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">ip_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_address</span><span class="p">)</span><span class="o">.</span><span class="n">packed</span>
    <span class="k">return</span> <span class="n">CURRENT_VERSION</span> <span class="o">+</span> <span class="n">StringSession</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
        <span class="n">_STRUCT_PREFORMAT</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ip</span><span class="p">)),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dc_id</span><span class="p">,</span>
        <span class="n">ip</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auth_key</span><span class="o">.</span><span class="n">key</span>
    <span class="p">))</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../errors/" rel="prev" title="API Errors">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                API Errors
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../network/" rel="next" title="Connection Modes">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Connection Modes
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2020 Telethon
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="https://github.com/LonamiWebs/Telethon" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-footer-social__link" href="https://t.me/TelethonChat" rel="noopener" target="_blank" title="t.me">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
<script src="../../assets/javascripts/bundle.a45f732b.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: ["instant", "tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.c03f0417.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>